<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체 01 - 개발자객체 만들기</title>
</head>
<div id="App">객체만들기</div>
<div id="This">객체만들기2</div>

<body>
    <script>
        // 1. 객체 리터럴 표기법을 이용한 객체의 생성
        const 떠경 = {
            name: '태서경',
            age: 31,
        }
        console.log(떠경.name + ' 카카오취업성공');

        // 2. 객체 생성자함수를 이용한 객체의 생성
        const 떠경이 = new Object();
        떠경이.name = '태떠경';
        떠경이.age = 21;

        console.log(떠경이);

        // 3. 객체의 메소드 : 객체는 속성(property)과 함수(method)를 가진다. property(key:value)
        const 떠경삼 = {
            name: '태떠굥',
            하는일: function () {
                // console.log(떠경삼.name + '술과 삶')
                console.log(`술과 ${떠경삼.name} 과 삶`)
            }
        }

        console.log(떠경삼['name'], 떠경삼.name)
        떠경삼.하는일();

        // 4. 객체에서의 this는 객체 자신을 가리킨다.
        // `${this.name} 와 함께 술마시기` = this.name + '와 함께 술마시기'

        const 떠경사 = {
            name: '태또굥',
            age: 11,
            하는일: function () {
                console.log(`${this.name} 와 함께 술마시기`)
            }
        }

        떠경사.하는일();


        // etc. 이벤트리스너에서의 this
        // id는 바로 선택이 가능하지만 권장하는 방법이 아니다. 
        // App --> document.querySelector('#App'), document.getElementById('App')
        App.addEventListener('click', function () {
            console.log(this) // 이벤트리스너 function에서의 this는 App
        })

        This.addEventListener('click', () => {
            console.log(this) // 화살표함수에서의 this는 window
        })

        console.log(this) // this는 window

        // this는 원래 window이나, EventListener 안에서는(function (){} 안에서는) 이벤트가 걸린 그것을 가리킨다.


        // 5. 객체의 메소드로{}=> 화살표 함수를 쓰면 this는 ?
        const 떠경오 = {
            name: '태또',
            age: 1,
            하는일: () => {
                // console.log(`${this.name} 와 함께 술마시기`) 안뜬다.
                console.log(`${떠경오.name} 와 함께 술마시기`)
            }
        }
        떠경오.하는일();


        // 6. 객체 안의 일반적인 함수(무명)에서의 this 바인딩

        const tae = {
            name: 'seokyoung',
            // job: function () {
            //     setInterval(function (){
            //         console.log(this.name + '술마시기');
            //     }, 1000)
            // }

            //function 일 때, this 일 때 가리키는 대상이 다르다.
            job: function () {
                setInterval(() => {
                    console.log(this.name + '술마시기');
                }, 1000)
            }
        }
        tae.job();

    </script>
</body>

</html>